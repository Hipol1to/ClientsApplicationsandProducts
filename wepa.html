<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Input Currency Formatting</title>
</head>
<body>

<!-- Input element -->
<input type="text" id="textInput" placeholder="Enter amount">

<script>
// Get the input element
var inputElement = document.getElementById('textInput');

// Attach an event listener to the input element
inputElement.addEventListener('input', function(event) {
    // Save the cursor position
    var cursorPosition = inputElement.selectionStart;

    // Get the input value
    let oldInputValue = inputElement.value;

    // Check if the input value is a valid number
    if (!isNaN(parseFloat(oldInputValue))) {
        // Currency formatting
        let currency = parseFloat(oldInputValue);
        let formattedValue = new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD'
        }).format(currency);

        // Remove the dollar sign and commas from the formatted currency string
        formattedValue = formattedValue.replace(/\$/g, "").replaceAll(",", "");
        console.log(formattedValue);

        // Update the value of the input element with the formatted value
        inputElement.value = formattedValue;

        // Restore the cursor position
        inputElement.setSelectionRange(cursorPosition, cursorPosition);
    }
});
</script>
</body>
</html>